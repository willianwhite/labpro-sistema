<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastros - LabPro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 250px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            z-index: 1000;
            transition: width 0.3s ease;
        }
        .sidebar.collapsed {
            width: 70px;
        }
        .logo {
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-text {
            transition: opacity 0.3s ease;
            flex: 1;
        }
        .sidebar.collapsed .logo-text {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }
        .toggle-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .toggle-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .menu-title {
            padding: 0.75rem 1.5rem;
            font-weight: bold;
            color: #4CAF50;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }
        .menu-title:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .menu-title.active {
            background: rgba(76, 175, 80, 0.2);
        }
        .menu-title span:first-child {
            transition: opacity 0.3s ease;
        }
        .sidebar.collapsed .menu-title span:first-child {
            font-size: 0;
        }
        .sidebar.collapsed .menu-title span:first-child::before {
            content: attr(data-icon);
            font-size: 1.5rem;
            display: block;
            text-align: center;
        }
        .sidebar.collapsed .menu-title {
            justify-content: center;
            padding: 0.75rem 0.5rem;
        }
        .submenu {
            display: none;
            background: rgba(0, 0, 0, 0.2);
            transition: opacity 0.3s ease;
        }
        .submenu.active {
            display: block;
        }
        .sidebar.collapsed .submenu {
            display: none;
        }
        .menu-item {
            padding: 0.5rem 1.5rem 0.5rem 2.5rem;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .sidebar.collapsed .arrow {
            display: none;
        }
        .sidebar.collapsed .menu-item {
            display: none;
        }
        .main-content {
            margin-left: 250px;
            min-height: 100vh;
            padding: 2rem;
            transition: margin-left 0.3s ease;
        }
        .sidebar.collapsed + .main-content {
            margin-left: 70px;
        }
        .top-bar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            margin: -2rem -2rem 2rem -2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        body.dark-theme {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }
        body.dark-theme .sidebar {
            background: rgba(0, 0, 0, 0.5);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .top-bar {
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .stat-card,
        body.dark-theme .page-content,
        body.dark-theme .form-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .menu-title {
            color: #81C784;
        }
        body.dark-theme .menu-title.active {
            background: rgba(129, 199, 132, 0.2);
        }
        body.dark-theme .form-group input,
        body.dark-theme .form-group select,
        body.dark-theme .form-group textarea {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        body.dark-theme .form-group label {
            color: rgba(255, 255, 255, 0.9);
        }
        body.dark-theme .client-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .client-card h3 {
            color: rgba(255, 255, 255, 0.9);
        }
        body.dark-theme .client-info .client-name {
            color: rgba(255, 255, 255, 0.9);
        }
        body.dark-theme .client-info .client-type {
            color: rgba(255, 255, 255, 0.7);
        }
        body.dark-theme .client-info .client-email {
            color: rgba(255, 255, 255, 0.7);
        }
        body.dark-theme .client-info .client-phone {
            color: rgba(255, 255, 255, 0.7);
        }
        body.dark-theme .client-avatar {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        .logout-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .logout-btn:hover {
            background: #d32f2f;
        }

        .nav-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .nav-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }

        .nav-tab.active {
            color: white;
            border-bottom-color: white;
        }

        .nav-tab:hover {
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }
        
        /* Dark theme para elementos que ficam no light */
        body.dark-theme .nav-tab {
            color: rgba(255, 255, 255, 0.8);
        }
        
        body.dark-theme .nav-tab.active {
            color: white;
            border-bottom-color: white;
        }
        
        body.dark-theme .nav-tab:hover {
            color: white;
        }
        
        body.dark-theme .btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        body.dark-theme .btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        body.dark-theme .btn-primary {
            background: #667eea;
        }
        
        body.dark-theme .btn-primary:hover {
            background: #5a67d8;
        }
        
        body.dark-theme .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        body.dark-theme .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        body.dark-theme .section-header h2 {
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .search-bar input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        body.dark-theme .form-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.dark-theme .form-card h3 {
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .form-control {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        body.dark-theme .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* Dark theme para Tabela de Pre√ßos */
        body.dark-theme .price-table {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.dark-theme th {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme td {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }
        
        body.dark-theme tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* Dark theme para Materiais */
        body.dark-theme .material-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.dark-theme .material-card h4 {
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .material-details {
            color: rgba(255, 255, 255, 0.8);
        }
        
        body.dark-theme .status-badge {
            background: rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .status-active {
            background: #28a745;
            color: white;
        }
        
        body.dark-theme .status-inactive {
            background: #ffc107;
            color: #000;
        }
        
        /* Dark theme para Clientes */
        body.dark-theme .client-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Estilos para Modais */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        .modal-content.modal-confirm {
            max-width: 400px;
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px 15px 0 0;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.3rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #eee;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            background: #f8f9fa;
            border-radius: 0 0 15px 15px;
        }

        /* Dark theme para modais */
        body.dark-theme .modal-content {
            background: #1a1a2e;
            color: white;
        }

        body.dark-theme .modal-header {
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        }

        body.dark-theme .modal-footer {
            background: #2d3748;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-theme .modal-body input[readonly] {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
        }

        /* Anima√ß√£o */
        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        body.dark-theme .client-info h4 {
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .client-info p {
            color: rgba(255, 255, 255, 0.7);
        }
        
        body.dark-theme .detail-label {
            color: rgba(255, 255, 255, 0.8);
        }
        
        body.dark-theme .detail-value {
            color: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-theme .action-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        body.dark-theme .action-btn.edit {
            background: #667eea;
        }
        
        body.dark-theme .action-btn.delete {
            background: #dc3545;
        }
        
        body.dark-theme .action-btn.view {
            background: #28a745;
        }
        
        /* Estilos base para tema light (garantir legibilidade) */
        .nav-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(0, 0, 0, 0.2);
        }

        .nav-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            color: rgba(0, 0, 0, 0.8);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }

        .nav-tab.active {
            color: #333;
            border-bottom-color: #333;
        }

        .nav-tab:hover {
            color: #333;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h2 {
            color: #333;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            flex: 1;
            max-width: 400px;
            margin-bottom: 2rem;
        }

        .search-bar input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 0.9rem;
        }

        .clients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .client-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .client-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .client-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .client-info h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .client-info p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .client-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .client-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .detail-label {
            color: #666;
            min-width: 80px;
        }

        .detail-value {
            color: #333;
            font-weight: 500;
        }

        .client-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-1px);
        }

        .action-btn.edit {
            background: #667eea;
            color: white;
        }

        .action-btn.delete {
            background: #ff6b6b;
            color: white;
        }

        .action-btn.view {
            background: #28a745;
            color: white;
        }

        .price-table {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            white-space: nowrap;
        }

        td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            white-space: nowrap;
            color: #333;
        }

        tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .form-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 0.9rem;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .materials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .material-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .material-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .material-card h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .material-details {
            margin-bottom: 1rem;
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .status-inactive {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h2 {
            color: #333;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            flex: 1;
            max-width: 400px;
            margin-bottom: 2rem;
        }

        .search-bar input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 0.9rem;
        }

        .clients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .client-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .client-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .client-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .client-info h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .client-info p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .client-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .client-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .detail-label {
            color: #666;
            min-width: 80px;
        }

        .detail-value {
            color: #333;
            font-weight: 500;
        }

        .client-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .action-btn {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-1px);
        }

        .action-btn.edit {
            background: #667eea;
            color: white;
        }

        .action-btn.delete {
            background: #ff6b6b;
            color: white;
        }

        .action-btn.view {
            background: #28a745;
            color: white;
        }

        .price-table {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            white-space: nowrap;
        }

        td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            white-space: nowrap;
        }

        tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .form-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: 500;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 0.9rem;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .materials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .material-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .material-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .material-card h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .material-details {
            margin-bottom: 1rem;
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .status-inactive {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 1rem;
            }

            .nav-tabs {
                flex-wrap: wrap;
            }

            .clients-grid,
            .materials-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .search-bar {
                max-width: 100%;
            }
        }
    </style>
    
    <!-- CSS para Modal de Novo Cliente -->
    <style>
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        .form-group label .required {
            color: #f44336;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        /* Abas do Modal */
        .modal-tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 1.5rem;
        }

        .modal-tab {
            background: none;
            border: none;
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .modal-tab:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .modal-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .modal-tab-content {
            display: none;
        }

        .modal-tab-content.active {
            display: block;
        }

        /* Dark theme para modal */
        body.dark-theme .modal-content {
            background: #1a1a2e;
            color: white;
        }

        body.dark-theme .modal-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        body.dark-theme .form-group label {
            color: #81C784;
        }

        body.dark-theme .form-group input,
        body.dark-theme .form-group select,
        body.dark-theme .form-group textarea {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        body.dark-theme .form-group select option {
            background: #1a1a2e;
            color: white;
        }

        body.dark-theme .form-group select {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3e%3cpath fill='%23fff' d='M10.293 3.293a1 1 0 0 1 1.414l-5.586 5.586a1 1 0 0 1-1.414 0L6 8.586a1 1 0 0 1-1.414-1.414l5.586-5.586a1 1 0 0 1 1.414z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.7rem center;
            padding-right: 2.5rem;
        }

        body.dark-theme .form-group input::placeholder,
        body.dark-theme .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Estilos para o grupo de CEP */
        .cep-input-group {
            display: flex;
            gap: 0.5rem;
            align-items: stretch;
        }

        .cep-input-group input {
            flex: 1;
        }

        .btn-cep-search {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 1.1rem;
            min-width: 40px;
        }

        .btn-cep-search:hover {
            background: #5a6fd8;
        }

        .cep-loading {
            display: none;
            color: #667eea;
            font-weight: 500;
            margin-top: 0.25rem;
            font-style: italic;
        }

        .cep-loading.show {
            display: block;
        }

        /* Dark theme para o grupo de CEP */
        body.dark-theme .btn-cep-search {
            background: #81C784;
        }

        body.dark-theme .btn-cep-search:hover {
            background: #6bab7c;
        }

        body.dark-theme .cep-loading {
            color: #81C784;
        }

        body.dark-theme .form-group input:focus,
        body.dark-theme .form-group select:focus,
        body.dark-theme .form-group textarea:focus {
            border-color: #81C784;
        }

        body.dark-theme .modal-footer {
            border-top-color: rgba(255, 255, 255, 0.1);
        }

        /* Dark theme para abas do modal */
        body.dark-theme .modal-tabs {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        body.dark-theme .modal-tab {
            color: rgba(255, 255, 255, 0.7);
        }

        body.dark-theme .modal-tab:hover {
            background: rgba(129, 199, 132, 0.1);
            color: #81C784;
        }

        body.dark-theme .modal-tab.active {
            color: #81C784;
            border-bottom-color: #81C784;
            background: rgba(129, 199, 132, 0.05);
        }
    </style>
    <!-- <script src="shared.js"></script> -->
    <script>
        // Fun√ß√µes essenciais do shared.js
        function toggleTheme() {
            const body = document.body;
            if (body.classList.contains('dark-theme')) {
                body.classList.remove('dark-theme');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-theme');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
        }
        
        function logout() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('authUser');
            window.location.href = '/index.html';
        }
        
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.modal-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
        }
        
        // Carregar tema ao iniciar
        loadTheme();
    </script>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <span class="logo-text">ü¶∑ LabPro</span>
            <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
        </div>
        
        <div class="menu-section">
            <div class="menu-title" onclick="showPage('inicio')">
                <span data-icon="üè†">üè† In√≠cio</span>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="üè≠">üè≠ Produ√ß√£o</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('ordem-servico')">Ordem de Servi√ßo</div>
                <div class="menu-item" onclick="showPage('controle-producao')">Controle de Produ√ß√£o</div>
                <div class="menu-item" onclick="showPage('agenda-producao')">Agenda de Produ√ß√£o</div>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="üí∞">üí∞ Financeiro</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('contas-receber')">Contas a Receber</div>
                <div class="menu-item" onclick="showPage('contas-pagar')">Contas a Pagar</div>
                <div class="menu-item" onclick="showPage('conta-bancaria')">Conta Bancaria</div>
                <div class="menu-item" onclick="showPage('caixa-fisico')">Caixa Fisico</div>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="üìã">üìã Cadastros</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('clientes')">Clientes</div>
                <div class="menu-item" onclick="showPage('tabela-precos')">Tabela de Pre√ßos</div>
                <div class="menu-item" onclick="showPage('setores')">Setores</div>
                <div class="menu-item" onclick="showPage('materiais')">Materiais Rec Dentista</div>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="üì¶">üì¶ Estoque</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('produtos')">Produtos</div>
                <div class="menu-item" onclick="showPage('orcamento')">Or√ßamento</div>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="üìä">üìä Relat√≥rios</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('fluxo-caixa')">Fluxo de caixa</div>
                <div class="menu-item" onclick="showPage('relatorio-producao')">Produ√ß√£o</div>
                <div class="menu-item" onclick="showPage('relatorio-estoque')">Estoque</div>
                <div class="menu-item" onclick="showPage('logs')">Logs</div>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title" onclick="toggleMenu(this)">
                <span data-icon="‚öôÔ∏è">‚öôÔ∏è Configura√ß√µes</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="submenu">
                <div class="menu-item" onclick="showPage('configuracoes-gerais')">Configura√ß√µes Gerais</div>
                <div class="menu-item" onclick="showPage('usuarios')">Usu√°rios</div>
                <div class="menu-item" onclick="showPage('modelo-ficha')">Modelo de Ficha</div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="top-bar">
            <h1 id="pageTitle">üë• Cadastros</h1>
            <div class="user-info">
                <button class="theme-toggle" onclick="toggleTheme()">
                    <span id="themeIcon">üåô</span>
                    <span id="themeText">Dark</span>
                </button>
                <span id="userName">Administrador</span>
                <button class="logout-btn" onclick="logout()">Sair</button>
            </div>
        </div>
        <!-- Navega√ß√£o entre abas -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('clientes')">
                üë• Clientes
            </button>
            <button class="nav-tab" onclick="showTab('tabela-precos')">
                üí∞ Tabela de Pre√ßos
            </button>
            <button class="nav-tab" onclick="showTab('setores')">
                üè¢ Setores
            </button>
            <button class="nav-tab" onclick="showTab('materiais')">
                ü¶∑ Materiais Rec Dentistas
            </button>
        </div>

        <!-- Aba Clientes -->
        <div id="clientes" class="tab-content active">
            <div class="section-header">
                <h2>üë• Clientes</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="novoCliente()">
                        <i class="fas fa-plus"></i> Novo Cliente
                    </button>
                    <button class="btn btn-secondary" onclick="exportarClientes()">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="üîç Pesquisar clientes...">
            </div>

            <div class="clients-grid">
                <div class="client-card">
                    <div class="client-header">
                        <div class="client-avatar">JD</div>
                        <div class="client-info">
                            <h4>Dr. Jo√£o Santos</h4>
                            <p>üë§ joao.santos@exemplo.com</p>
                            <p>üì± (11) 98765-4321</p>
                            <p>üè¢ S√£o Paulo - SP</p>
                        </div>
                    </div>
                    <div class="client-details">
                        <div class="detail-item">
                            <span class="detail-label">CRO:</span>
                            <span class="detail-value">12345-SP</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Cadastro:</span>
                            <span class="detail-value">15/10/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS/M√™s:</span>
                            <span class="detail-value">12</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Ativo</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verCliente('001')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarCliente('001')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete" onclick="excluirCliente('001')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="client-card">
                    <div class="client-header">
                        <div class="client-avatar">MS</div>
                        <div class="client-info">
                            <h4>Dra. Maria Silva</h4>
                            <p>üë§ maria.silva@exemplo.com</p>
                            <p>üì± (11) 91234-5678</p>
                            <p>üè¢ S√£o Paulo - SP</p>
                        </div>
                    </div>
                    <div class="client-details">
                        <div class="detail-item">
                            <span class="detail-label">CRO:</span>
                            <span class="detail-value">67890-SP</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Cadastro:</span>
                            <span class="detail-value">01/11/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS/M√™s:</span>
                            <span class="detail-value">18</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Ativo</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verCliente('002')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarCliente('002')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete" onclick="excluirCliente('002')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="client-card">
                    <div class="client-header">
                        <div class="client-avatar">CS</div>
                        <div class="client-info">
                            <h4>Clinica Sorriso Feliz</h4>
                            <p>üë§ contato@clinicasorriso.com.br</p>
                            <p>üì± (11) 34567-8901</p>
                            <p>üè¢ Rio de Janeiro - RJ</p>
                        </div>
                    </div>
                    <div class="client-details">
                        <div class="detail-item">
                            <span class="detail-label">CNPJ:</span>
                            <span class="detail-value">12.345.678/0001-90</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Cadastro:</span>
                            <span class="detail-value">20/11/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS/M√™s:</span>
                            <span class="detail-value">8</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Ativo</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verCliente('003')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarCliente('003')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete" onclick="excluirCliente('003')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Tabela de Pre√ßos -->
        <div id="tabela-precos" class="tab-content">
            <div class="section-header">
                <h2>üí∞ Tabela de Pre√ßos</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="novoPreco()">
                        <i class="fas fa-plus"></i> Novo Pre√ßo
                    </button>
                    <button class="btn btn-secondary" onclick="importarPrecos()">
                        <i class="fas fa-upload"></i> Importar
                    </button>
                    <button class="btn btn-secondary" onclick="exportarPrecos()">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
            </div>

            <div class="price-table">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Categoria</th>
                                <th>Servi√ßo</th>
                                <th>Descri√ß√£o</th>
                                <th>Valor Unit√°rio</th>
                                <th>Tempo Estimado</th>
                                <th>Status</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Pr√≥tese</td>
                                <td>Coroa Total</td>
                                <td>Coroa em metalocer√¢mica</td>
                                <td>R$ 1.200,00</td>
                                <td>3 dias</td>
                                <td><span class="status-badge status-active">Ativo</span></td>
                                <td>
                                    <button class="action-btn edit" onclick="editarPreco('001')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Ortodontia</td>
                                <td>Aparelho Remov√≠vel</td>
                                <td>Aparelho remov√≠vel superior e inferior</td>
                                <td>R$ 2.500,00</td>
                                <td>7 dias</td>
                                <td><span class="status-badge status-active">Ativo</span></td>
                                <td>
                                    <button class="action-btn edit" onclick="editarPreco('002')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Dent√≠stica</td>
                                <td>Restaura√ß√£o</td>
                                <td>Restaura√ß√£o em resina composta</td>
                                <td>R$ 350,00</td>
                                <td>1 dia</td>
                                <td><span class="status-badge status-active">Ativo</span></td>
                                <td>
                                    <button class="action-btn edit" onclick="editarPreco('003')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Aba Setores -->
        <div id="setores" class="tab-content">
            <div class="section-header">
                <h2>üè¢ Setores</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="novoSetor()">
                        <i class="fas fa-plus"></i> Novo Setor
                    </button>
                </div>
            </div>

            <div class="form-grid">
                <div class="form-card">
                    <h3>üè≠ Produ√ß√£o</h3>
                    <div class="form-group">
                        <label>Respons√°vel:</label>
                        <input type="text" value="Carlos Silva" readonly>
                    </div>
                    <div class="form-group">
                        <label>Funcion√°rios:</label>
                        <input type="text" value="8" readonly>
                    </div>
                    <div class="form-group">
                        <label>Capacidade:</label>
                        <input type="text" value="50 OS/m√™s" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <select>
                            <option value="active" selected>Ativo</option>
                            <option value="inactive">Inativo</option>
                        </select>
                    </div>
                </div>

                <div class="form-card">
                    <h3>üî¨ Laborat√≥rio</h3>
                    <div class="form-group">
                        <label>Respons√°vel:</label>
                        <input type="text" value="Ana Santos" readonly>
                    </div>
                    <div class="form-group">
                        <label>Funcion√°rios:</label>
                        <input type="text" value="5" readonly>
                    </div>
                    <div class="form-group">
                        <label>Capacidade:</label>
                        <input type="text" value="30 OS/m√™s" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <select>
                            <option value="active" selected>Ativo</option>
                            <option value="inactive">Inativo</option>
                        </select>
                    </div>
                </div>

                <div class="form-card">
                    <h3>üì¶ Estoque</h3>
                    <div class="form-group">
                        <label>Respons√°vel:</label>
                        <input type="text" value="Roberto Costa" readonly>
                    </div>
                    <div class="form-group">
                        <label>Funcion√°rios:</label>
                        <input type="text" value="3" readonly>
                    </div>
                    <div class="form-group">
                        <label>Itens:</label>
                        <input type="text" value="1.245 itens" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <select>
                            <option value="active" selected>Ativo</option>
                            <option value="inactive">Inativo</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Materiais -->
        <div id="materiais" class="tab-content">
            <div class="section-header">
                <h2>ü¶∑ Materiais Rec Dentistas</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="novoMaterial()">
                        <i class="fas fa-plus"></i> Novo Material
                    </button>
                    <button class="btn btn-secondary" onclick="exportarMateriais()">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
            </div>

            <div class="materials-grid">
                <div class="material-card">
                    <h4>ü¶∑ Moldeira Superior</h4>
                    <div class="material-details">
                        <div class="detail-item">
                            <span class="detail-label">Cliente:</span>
                            <span class="detail-value">Dr. Jo√£o Santos</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS:</span>
                            <span class="detail-value">OS-00025</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Data Recebimento:</span>
                            <span class="detail-value">10/12/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Em An√°lise</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verMaterial('001')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarMaterial('001')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>

                <div class="material-card">
                    <h4>ü¶∑ Moldeira Inferior</h4>
                    <div class="material-details">
                        <div class="detail-item">
                            <span class="detail-label">Cliente:</span>
                            <span class="detail-value">Dra. Maria Silva</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS:</span>
                            <span class="detail-value">OS-00024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Data Recebimento:</span>
                            <span class="detail-value">12/12/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Processando</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verMaterial('002')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarMaterial('002')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>

                <div class="material-card">
                    <h4>ü¶∑ Arcada Completa</h4>
                    <div class="material-details">
                        <div class="detail-item">
                            <span class="detail-label">Cliente:</span>
                            <span class="detail-value">Clinica Sorriso Feliz</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">OS:</span>
                            <span class="detail-value">OS-00023</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Data Recebimento:</span>
                            <span class="detail-value">15/12/2024</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="status-badge status-active">Aguardando</span>
                        </div>
                    </div>
                    <div class="client-actions">
                        <button class="action-btn view" onclick="verMaterial('003')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn edit" onclick="editarMaterial('003')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Atualizar data atual
        function updateDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const dateElement = document.getElementById('currentDate');
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('pt-BR', options);
            }
        }

        // Fun√ß√µes espec√≠ficas do cadastros

        // Fun√ß√µes do menu lateral
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('collapsed');
        }

        function toggleMenu(element) {
            const submenu = element.nextElementSibling;
            const arrow = element.querySelector('.arrow');
            
            // Fechar outros submenus
            document.querySelectorAll('.submenu').forEach(menu => {
                if (menu !== submenu) {
                    menu.classList.remove('active');
                }
            });
            
            document.querySelectorAll('.arrow').forEach(a => {
                if (a !== arrow) {
                    a.classList.remove('rotated');
                }
            });
            
            // Toggle current submenu
            submenu.classList.toggle('active');
            arrow.classList.toggle('rotated');
        }

        function showPage(pageId) {
            // Para p√°ginas do mesmo m√≥dulo, mostrar abas internas
            const internalPages = ['clientes', 'tabela-precos', 'setores', 'materiais'];
            if (internalPages.includes(pageId)) {
                showTab(pageId);
                return;
            }
            
            // Redirecionar para os novos arquivos HTML separados
            const pageUrls = {
                'ordem-servico': '/producao.html',
                'controle-producao': '/producao.html',
                'agenda-producao': '/producao.html',
                'contas-receber': '/financeiro.html',
                'contas-pagar': '/financeiro.html',
                'conta-bancaria': '/financeiro.html',
                'caixa-fisico': '/financeiro.html',
                'produtos': '/estoque.html',
                'orcamento': '/estoque.html',
                'fluxo-caixa': '/relatorio.html',
                'relatorio-producao': '/relatorio.html',
                'relatorio-estoque': '/relatorio.html',
                'logs': '/relatorio.html',
                'configuracoes-gerais': '/configuracoes.html',
                'usuarios': '/configuracoes.html',
                'modelo-ficha': '/configuracoes.html'
            };
            
            // Se a p√°gina tiver um URL separado, redirecionar
            if (pageUrls[pageId]) {
                window.location.href = pageUrls[pageId];
                return;
            }
            
            // Para p√°gina in√≠cio, redirecionar para o dashboard
            if (pageId === 'inicio') {
                window.location.href = '/dashboard.html';
                return;
            }
        }

        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (body.classList.contains('dark-theme')) {
                body.classList.remove('dark-theme');
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Dark';
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-theme');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Light';
                localStorage.setItem('theme', 'dark');
            }
            
            // Salvar tema em todas as p√°ginas
            localStorage.setItem('labpro-theme', body.classList.contains('dark-theme') ? 'dark' : 'light');
        }

        function logout() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('authUser');
            window.location.href = '/index.html';
        }

        // Fun√ß√µes de intera√ß√£o
        function editarCliente(id) {
            const clientes = JSON.parse(localStorage.getItem('labpro_clientes') || '[]');
            const cliente = clientes.find(c => c.id === id);
            
            if (cliente) {
                alert(`Editar cliente: ${cliente.nome}\n\nFun√ß√£o de edi√ß√£o ser√° implementada em breve!`);
                // TODO: Implementar edi√ß√£o
            }
        }

        function excluirCliente(id) {
            const clientes = JSON.parse(localStorage.getItem('labpro_clientes') || '[]');
            const cliente = clientes.find(c => c.id === id);
            
            if (cliente && confirm(`Deseja excluir o cliente "${cliente.nome}"?`)) {
                // Remover cliente do array
                const clientesAtualizados = clientes.filter(c => c.id !== id);
                
                // Salvar no localStorage
                localStorage.setItem('labpro_clientes', JSON.stringify(clientesAtualizados));
                
                // Atualizar lista na tela
                atualizarListaClientes();
                
                alert(`Cliente "${cliente.nome}" exclu√≠do com sucesso!`);
            }
        }

        function verCliente(id) {
            const clientes = JSON.parse(localStorage.getItem('labpro_clientes') || '[]');
            const cliente = clientes.find(c => c.id === id);
            
            if (cliente) {
                const detalhes = `
                    üìã DADOS DO CLIENTE
                    ==================
                    üè∑Ô∏è Tipo: ${cliente.tipoCliente === 'dentista' ? 'Dentista' : cliente.tipoCliente === 'clinica' ? 'Cl√≠nica' : 'Laborat√≥rio'}
                    üë§ Nome: ${cliente.nome}
                    üì± WhatsApp: ${cliente.whatsapp}
                    üìß E-mail: ${cliente.email || 'N√£o informado'}
                    üÜî CPF: ${cliente.cpf || 'N√£o informado'}
                    üè¢ CNPJ: ${cliente.cnpj || 'N√£o informado'}
                    üìç Endere√ßo: ${cliente.rua || ''}, ${cliente.numero || ''} - ${cliente.bairro || ''}
                    üèôÔ∏è Cidade/UF: ${cliente.cidade || ''}/${cliente.uf || ''}
                    üìÆ CEP: ${cliente.cep || 'N√£o informado'}
                    üí∞ Tabela Pre√ßos: ${cliente.tabelaPrecos || 'Padr√£o'}
                    üéØ Desconto: ${cliente.descontoGeral || '0'}%
                    üìÖ Cadastro: ${new Date(cliente.dataCadastro).toLocaleDateString('pt-BR')}
                `;
                alert(detalhes);
            }
        }

        function exportarClientes() {
            alert('Exportar lista de clientes');
        }

        function novoCliente() {
            document.getElementById('modalNovoCliente').style.display = 'flex';
        }

        function fecharModalCliente() {
            document.getElementById('modalNovoCliente').style.display = 'none';
            limparFormularioCliente();
        }

        function limparFormularioCliente() {
            document.getElementById('formCliente').reset();
        }

        function salvarCliente() {
            alert('Fun√ß√£o salvarCliente chamada!');
            
            // Coletar dados de todas as abas
            const dadosCliente = {
                // Dados do Cliente
                tipoCliente: document.getElementById('tipoCliente').value,
                nome: document.getElementById('nome').value,
                cnpj: document.getElementById('cnpj').value,
                cpf: document.getElementById('cpf').value,
                email: document.getElementById('email').value,
                celular: document.getElementById('celular').value,
                whatsapp: document.getElementById('whatsapp').value,
                
                // Endere√ßo
                cep: document.getElementById('cep').value,
                rua: document.getElementById('rua').value,
                numero: document.getElementById('numero').value,
                cidade: document.getElementById('cidade').value,
                uf: document.getElementById('uf').value,
                bairro: document.getElementById('bairro').value,
                complemento: document.getElementById('complemento').value,
                
                // Configura√ß√£o
                tabelaPrecos: document.getElementById('tabelaPrecos').value,
                descontoGeral: document.getElementById('descontoGeral').value
            };

            console.log('Dados do cliente:', dadosCliente);

            // Valida√ß√£o b√°sica
            if (!dadosCliente.tipoCliente || !dadosCliente.nome || !dadosCliente.whatsapp) {
                alert('Por favor, preencha os campos obrigat√≥rios: Tipo de Cliente, Nome e WhatsApp!');
                return;
            }

            // Valida√ß√£o de CNPJ/CPF (pelo menos um deles)
            if (!dadosCliente.cnpj && !dadosCliente.cpf) {
                alert('Por favor, preencha CNPJ ou CPF!');
                return;
            }

            // Valida√ß√£o de CNPJ
            if (dadosCliente.cnpj && dadosCliente.cnpj.length < 18) {
                alert('Por favor, digite um CNPJ v√°lido!');
                return;
            }

            // Valida√ß√£o de WhatsApp
            if (dadosCliente.whatsapp.length < 15) {
                alert('Por favor, digite um WhatsApp v√°lido!');
                return;
            }

            alert('Valida√ß√µes passaram! Salvando...');

            // Salvar no backend PHP MySQL
            salvarClienteNoStorage(dadosCliente).then(() => {
                alert(`Cliente "${dadosCliente.nome}" cadastrado com sucesso!`);
                fecharModalCliente();
                atualizarListaClientes();
            }).catch(error => {
                console.error('Erro ao salvar:', error);
                alert('Erro ao salvar cliente: ' + error.message);
            });
        }

        async function salvarClienteNoStorage(cliente) {
            try {
                const response = await fetch('https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(cliente)
                });
                
                if (!response.ok) {
                    throw new Error('Erro ao salvar cliente');
                }
                
                const result = await response.json();
                console.log('Cliente salvo no backend MySQL:', result);
                return result.data;
                
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao salvar cliente. Tente novamente.');
                throw error;
            }
        }

        // Fun√ß√£o para atualizar lista de clientes na tela
        async function atualizarListaClientes() {
            try {
                const response = await fetch('https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php');
                const result = await response.json();
                
                if (!result.success) {
                    throw new Error(result.message);
                }
                
                const clientes = result.data;
                const clientsGrid = document.querySelector('.clients-grid');
                
                if (!clientsGrid) return;
                
                clientsGrid.innerHTML = '';
                clientes.forEach(cliente => {
                    const clientCard = criarCardCliente(cliente);
                    clientsGrid.appendChild(clientCard);
                });
                
                console.log('Lista carregada do backend MySQL:', clientes.length, 'clientes');
                
            } catch (error) {
                console.error('Erro ao carregar clientes:', error);
                alert('Erro ao carregar lista de clientes.');
            }
        }

        // Fun√ß√£o para criar card de cliente
        function criarCardCliente(cliente) {
            const card = document.createElement('div');
            card.className = 'client-card';
            card.innerHTML = `
                <div class="client-header">
                    <div class="client-avatar">
                        <span>${cliente.tipoCliente === 'dentista' ? 'üë®‚Äç‚öïÔ∏è' : cliente.tipoCliente === 'clinica' ? 'üè•' : 'üè≠'}</span>
                    </div>
                    <div class="client-info">
                        <h3>${cliente.nome}</h3>
                        <p>${cliente.tipoCliente === 'dentista' ? 'Dentista' : cliente.tipoCliente === 'clinica' ? 'Cl√≠nica' : 'Laborat√≥rio'}</p>
                    </div>
                </div>
                <div class="client-details">
                    <div class="detail-item">
                        <span class="detail-label">üì± WhatsApp:</span>
                        <span class="detail-value">${cliente.whatsapp}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìß E-mail:</span>
                        <span class="detail-value">${cliente.email || 'N√£o informado'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üÜî CPF/CNPJ:</span>
                        <span class="detail-value">${cliente.cpf || cliente.cnpj || 'N√£o informado'}</span>
                    </div>
                </div>
                <div class="client-actions">
                    <button class="btn btn-sm btn-primary" onclick="verCliente('${cliente.id}')">
                        <i class="fas fa-eye"></i> Ver
                    </button>
                    <button class="btn btn-sm btn-secondary" onclick="editarCliente('${cliente.id}')">
                        <i class="fas fa-edit"></i> Editar
                    </button>
                    <button class="btn btn-sm btn-danger" onclick="excluirCliente('${cliente.id}')">
                        <i class="fas fa-trash"></i> Excluir
                    </button>
                </div>
            `;
            return card;
        }

        // Fun√ß√£o para ver cliente (somente leitura)
        function verCliente(clienteId) {
            // Buscar cliente da API
            fetch(`https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php?id=${clienteId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.clientes && data.clientes.length > 0) {
                        const cliente = data.clientes[0];
                        
                        // Criar modal de visualiza√ß√£o
                        const modal = document.createElement('div');
                        modal.className = 'modal-overlay';
                        modal.innerHTML = `
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h2>üë§ Detalhes do Cliente</h2>
                                    <button class="modal-close" onclick="fecharModal()">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üè∑Ô∏è Nome:</label>
                                            <input type="text" value="${cliente.nome}" readonly>
                                        </div>
                                        <div class="form-group">
                                            <label>üë• Tipo:</label>
                                            <input type="text" value="${cliente.tipo_cliente === 'dentista' ? 'Dentista' : cliente.tipo_cliente === 'clinica' ? 'Cl√≠nica' : 'Laborat√≥rio'}" readonly>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üì± WhatsApp:</label>
                                            <input type="text" value="${cliente.whatsapp}" readonly>
                                        </div>
                                        <div class="form-group">
                                            <label>üìß E-mail:</label>
                                            <input type="email" value="${cliente.email || ''}" readonly>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üÜî CPF/CNPJ:</label>
                                            <input type="text" value="${cliente.cpf || cliente.cnpj || ''}" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" onclick="fecharModal()">Fechar</button>
                                </div>
                            </div>
                        `;
                        
                        document.body.appendChild(modal);
                    } else {
                        alert('Cliente n√£o encontrado!');
                    }
                })
                .catch(error => {
                    console.error('Erro ao buscar cliente:', error);
                    alert('Erro ao buscar cliente. Tente novamente.');
                });
        }

        // Fun√ß√£o para editar cliente (com restri√ß√µes)
        function editarCliente(clienteId) {
            // Buscar cliente da API
            fetch(`https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php?id=${clienteId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.clientes && data.clientes.length > 0) {
                        const cliente = data.clientes[0];
                        
                        // Criar modal de edi√ß√£o
                        const modal = document.createElement('div');
                        modal.className = 'modal-overlay';
                        modal.innerHTML = `
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h2>‚úèÔ∏è Editar Cliente</h2>
                                    <button class="modal-close" onclick="fecharModal()">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üè∑Ô∏è Nome:</label>
                                            <input type="text" value="${cliente.nome}" readonly>
                                            <small style="color: #666;">Nome n√£o pode ser editado</small>
                                        </div>
                                        <div class="form-group">
                                            <label>üë• Tipo:</label>
                                            <input type="text" value="${cliente.tipo_cliente === 'dentista' ? 'Dentista' : cliente.tipo_cliente === 'clinica' ? 'Cl√≠nica' : 'Laborat√≥rio'}" readonly>
                                            <small style="color: #666;">Tipo n√£o pode ser editado</small>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üÜî CPF/CNPJ:</label>
                                            <input type="text" value="${cliente.cpf || cliente.cnpj || ''}" readonly>
                                            <small style="color: #666;">CPF/CNPJ n√£o pode ser editado</small>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>üì± WhatsApp:</label>
                                            <input type="text" id="edit-whatsapp" value="${cliente.whatsapp}">
                                        </div>
                                        <div class="form-group">
                                            <label>üìß E-mail:</label>
                                            <input type="email" id="edit-email" value="${cliente.email || ''}">
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" onclick="fecharModal()">Cancelar</button>
                                    <button class="btn btn-primary" onclick="salvarEdicaoCliente('${clienteId}')">Salvar</button>
                                </div>
                            </div>
                        `;
                        
                        document.body.appendChild(modal);
                    } else {
                        alert('Cliente n√£o encontrado!');
                    }
                })
                .catch(error => {
                    console.error('Erro ao buscar cliente:', error);
                    alert('Erro ao buscar cliente. Tente novamente.');
                });
        }

        // Fun√ß√£o para excluir cliente (com confirma√ß√£o)
        function excluirCliente(clienteId) {
            // Buscar cliente da API
            fetch(`https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php?id=${clienteId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.clientes && data.clientes.length > 0) {
                        const cliente = data.clientes[0];
                        
                        // Criar modal de confirma√ß√£o
                        const modal = document.createElement('div');
                        modal.className = 'modal-overlay';
                        modal.innerHTML = `
                            <div class="modal-content modal-confirm">
                                <div class="modal-header">
                                    <h2>‚ö†Ô∏è Confirmar Exclus√£o</h2>
                                    <button class="modal-close" onclick="fecharModal()">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <p style="text-align: center; margin: 20px 0;">
                                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: #e74c3c; margin-bottom: 1rem;"></i>
                                    </p>
                                    <p style="text-align: center; font-size: 1.1rem; margin-bottom: 1rem;">
                                        Tem certeza que deseja excluir o cliente <strong>${cliente.nome}</strong>?
                                    </p>
                                    <p style="text-align: center; color: #666;">
                                        Esta a√ß√£o n√£o poder√° ser desfeita.
                                    </p>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" onclick="fecharModal()">Cancelar</button>
                                    <button class="btn btn-danger" onclick="confirmarExclusaoCliente('${clienteId}')">Excluir</button>
                                </div>
                            </div>
                        `;
                        
                        document.body.appendChild(modal);
                    } else {
                        alert('Cliente n√£o encontrado!');
                    }
                })
                .catch(error => {
                    console.error('Erro ao buscar cliente:', error);
                    alert('Erro ao buscar cliente. Tente novamente.');
                });
        }

        // Fun√ß√£o para fechar modal
        function fecharModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }

        // Fun√ß√£o para salvar edi√ß√£o
        function salvarEdicaoCliente(clienteId) {
            const whatsapp = document.getElementById('edit-whatsapp').value;
            const email = document.getElementById('edit-email').value;
            
            if (!whatsapp || !email) {
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            // Enviar atualiza√ß√£o para API
            fetch(`https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    id: clienteId,
                    whatsapp: whatsapp,
                    email: email
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Cliente atualizado com sucesso!');
                    fecharModal();
                    // Recarregar lista de clientes
                    carregarClientes();
                } else {
                    alert('Erro ao atualizar cliente: ' + (data.message || 'Erro desconhecido'));
                }
            })
            .catch(error => {
                console.error('Erro ao atualizar cliente:', error);
                alert('Erro ao atualizar cliente. Tente novamente.');
            });
        }

        // Fun√ß√£o para confirmar exclus√£o
        function confirmarExclusaoCliente(clienteId) {
            // Enviar exclus√£o para API
            fetch(`https://willianwhiteestevaod1767839682077.2002102.meusitehostgator.com.br/api/clientes_final.php`, {
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    id: clienteId
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Cliente exclu√≠do com sucesso!');
                    fecharModal();
                    // Recarregar lista de clientes
                    carregarClientes();
                } else {
                    alert('Erro ao excluir cliente: ' + (data.message || 'Erro desconhecido'));
                }
            })
            .catch(error => {
                console.error('Erro ao excluir cliente:', error);
                alert('Erro ao excluir cliente. Tente novamente.');
            });
        }

        // Fun√ß√£o para alternar abas do modal
        function showModalTab(tabName) {
            // Esconder todas as abas
            document.querySelectorAll('.modal-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remover classe ativo de todos os bot√µes
            document.querySelectorAll('.modal-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar aba selecionada
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
            
            // Ativar bot√£o correspondente
            const activeButton = document.querySelector(`[onclick="showModalTab('${tabName}')"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }

        // M√°scaras para CPF e Telefone
        function mascaraCPF(cpf) {
            cpf.value = cpf.value.replace(/\D/g, '')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d{1,2})/, '$1-$2')
                .replace(/(-\d{2})\d+?$/, '$1');
        }

        function mascaraCNPJ(cnpj) {
            cnpj.value = cnpj.value.replace(/\D/g, '')
                .replace(/(\d{2})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1/$2')
                .replace(/(\d{4})(\d{1,2})/, '$1-$2')
                .replace(/(-\d{2})\d+?$/, '$1');
        }

        function mascaraTelefone(telefone) {
            telefone.value = telefone.value.replace(/\D/g, '')
                .replace(/(\d{2})(\d)/, '($1) $2')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{4})\d+?$/, '$1');
        }

        function mascaraCEP(cep) {
            cep.value = cep.value.replace(/\D/g, '')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{3})\d+?$/, '$1');
        }

        // Fun√ß√£o para buscar CEP na API dos Correios
        async function buscarCEP() {
            const cepInput = document.getElementById('cep');
            const loading = document.getElementById('cep-loading');
            const cep = cepInput.value.replace(/\D/g, '');

            // Valida√ß√£o do CEP
            if (cep.length !== 8) {
                alert('Por favor, digite um CEP v√°lido com 8 d√≠gitos!');
                return;
            }

            // Mostrar loading
            loading.classList.add('show');
            cepInput.disabled = true;

            try {
                // Usando a API p√∫blica dos Correios
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                
                if (!response.ok) {
                    throw new Error('Erro na busca do CEP');
                }

                const data = await response.json();

                if (data.erro) {
                    throw new Error(data.erro || 'CEP n√£o encontrado');
                }

                // Preencher os campos com os dados retornados
                document.getElementById('rua').value = data.logradouro || '';
                document.getElementById('bairro').value = data.bairro || '';
                document.getElementById('cidade').value = data.localidade || '';
                document.getElementById('uf').value = data.uf || '';
                document.getElementById('complemento').value = data.complemento || '';

                // Foco no campo n√∫mero (geralmente n√£o vem da API)
                document.getElementById('numero').focus();

                // Feedback de sucesso
                loading.textContent = 'CEP encontrado! ‚úì';
                loading.style.color = '#28a745';

                setTimeout(() => {
                    loading.classList.remove('show');
                    cepInput.disabled = false;
                }, 2000);

            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                loading.textContent = 'Erro na busca. Tente novamente.';
                loading.style.color = '#dc3545';

                setTimeout(() => {
                    loading.classList.remove('show');
                    cepInput.disabled = false;
                }, 3000);
            }
        }

        // Adicionar eventos de m√°scara quando o modal for aberto
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar eventos aos campos
            setTimeout(() => {
                const cpfInput = document.getElementById('cpf');
                const cnpjInput = document.getElementById('cnpj');
                const celularInput = document.getElementById('celular');
                const whatsappInput = document.getElementById('whatsapp');
                const cepInput = document.getElementById('cep');

                if (cpfInput) {
                    cpfInput.addEventListener('input', () => mascaraCPF(cpfInput));
                    cpfInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') e.preventDefault();
                    });
                }

                if (cnpjInput) {
                    cnpjInput.addEventListener('input', () => mascaraCNPJ(cnpjInput));
                    cnpjInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') e.preventDefault();
                    });
                }

                if (celularInput) {
                    celularInput.addEventListener('input', () => mascaraTelefone(celularInput));
                    celularInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') e.preventDefault();
                    });
                }

                if (whatsappInput) {
                    whatsappInput.addEventListener('input', () => mascaraTelefone(whatsappInput));
                    whatsappInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') e.preventDefault();
                    });
                }

                if (cepInput) {
                    cepInput.addEventListener('input', () => mascaraCEP(cepInput));
                    cepInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') e.preventDefault();
                    });
                }
            }, 100);
        });

        function novoPreco() {
            alert('Abrir formul√°rio para novo pre√ßo');
        }

        function editarPreco(id) {
            alert(`Editar pre√ßo ${id}`);
        }

        function excluirPreco(id) {
            if (confirm(`Deseja excluir o pre√ßo ${id}?`)) {
                alert(`Pre√ßo ${id} exclu√≠do com sucesso!`);
            }
        }

        function importarPrecos() {
            alert('Importar tabela de pre√ßos');
        }

        function exportarPrecos() {
            alert('Exportar tabela de pre√ßos');
        }

        function novoSetor() {
            alert('Abrir formul√°rio para novo setor');
        }

        function editarSetor(id) {
            alert(`Editar setor ${id}`);
        }

        function excluirSetor(id) {
            if (confirm(`Deseja excluir o setor ${id}?`)) {
                alert(`Setor ${id} exclu√≠do com sucesso!`);
            }
        }

        function novoMaterial() {
            alert('Abrir formul√°rio para novo material');
        }

        function editarMaterial(id) {
            alert(`Editar material ${id}`);
        }

        function verMaterial(id) {
            alert(`Ver detalhes do material ${id}`);
        }

        // Fun√ß√£o para filtrar clientes na busca
        function filtrarClientes(searchTerm) {
            const clientsGrid = document.querySelector('.clients-grid');
            if (!clientsGrid) return;

            const clientCards = clientsGrid.querySelectorAll('.client-card');
            
            clientCards.forEach(card => {
                const nome = card.querySelector('h3')?.textContent.toLowerCase() || '';
                const whatsapp = card.querySelector('.whatsapp')?.textContent.toLowerCase() || '';
                const email = card.querySelector('.email')?.textContent.toLowerCase() || '';
                const tipo = card.querySelector('.client-type')?.textContent.toLowerCase() || '';
                
                const searchText = `${nome} ${whatsapp} ${email} ${tipo}`;
                
                if (searchText.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Mostrar mensagem se nenhum cliente encontrado
            const visibleCards = Array.from(clientCards).filter(card => card.style.display !== 'none');
            
            // Remover mensagem anterior se existir
            const existingMessage = clientsGrid.querySelector('.no-results');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            // Adicionar mensagem se nenhum resultado
            if (visibleCards.length === 0 && searchTerm.length > 0) {
                const noResultsMessage = document.createElement('div');
                noResultsMessage.className = 'no-results';
                noResultsMessage.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: #666;">
                        <i style="font-size: 3rem; margin-bottom: 1rem;">üîç</i>
                        <h3>Nenhum cliente encontrado</h3>
                        <p>N√£o encontramos clientes com "${searchTerm}"</p>
                    </div>
                `;
                clientsGrid.appendChild(noResultsMessage);
            }
        }

        // Fun√ß√£o de pesquisa
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    filtrarClientes(searchTerm);
                });
            }
            
            // Inicializa√ß√£o
            updateDate();
            setInterval(updateDate, 60000);
            
            // Load saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeIcon').textContent = '‚òÄÔ∏è';
                document.getElementById('themeText').textContent = 'Light';
            }
            
            // Carregar lista de clientes do localStorage
            atualizarListaClientes();
            
            // Expandir menu Cadastros por padr√£o
            const cadastrosMenu = document.querySelector('.menu-title[data-icon="üìã"]');
            const cadastrosArrow = document.querySelector('.menu-title[data-icon="üìã"]');
            
            if (cadastrosMenu) {
                const submenu = cadastrosMenu.parentElement.querySelector('.submenu');
                const arrow = cadastrosMenu.parentElement.querySelector('.arrow');
                
                if (submenu) {
                    submenu.classList.add('active');
                }
                if (arrow) {
                    arrow.classList.add('rotated');
                }
            }
        });
    </script>

    <!-- Modal de Novo Cliente -->
    <div id="modalNovoCliente" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üë• Novo Cliente</h2>
                <button class="modal-close" onclick="fecharModalCliente()">√ó</button>
            </div>
            
            <div class="modal-body">
                <!-- Abas do Modal -->
                <div class="modal-tabs">
                    <button class="modal-tab active" onclick="showModalTab('dados')">üìã Dados do Cliente</button>
                    <button class="modal-tab" onclick="showModalTab('endereco')">üìç Endere√ßo</button>
                    <button class="modal-tab" onclick="showModalTab('configuracao')">‚öôÔ∏è Configura√ß√£o</button>
                </div>

                <!-- Aba Dados do Cliente -->
                <div id="dados" class="modal-tab-content active">
                    <form id="formCliente">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="tipoCliente">Tipo de Cliente <span class="required">*</span></label>
                                <select id="tipoCliente" name="tipoCliente" required>
                                    <option value="">Selecione...</option>
                                    <option value="dentista">Dentista</option>
                                    <option value="clinica">Cl√≠nica</option>
                                    <option value="laboratorio">Laborat√≥rio</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="nome">Nome <span class="required">*</span></label>
                                <input type="text" id="nome" name="nome" required placeholder="Digite o nome completo">
                            </div>
                            
                            <div class="form-group">
                                <label for="cnpj">CNPJ</label>
                                <input type="text" id="cnpj" name="cnpj" placeholder="00.000.000/0000-00" maxlength="18">
                            </div>
                            
                            <div class="form-group">
                                <label for="cpf">CPF</label>
                                <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" maxlength="14">
                            </div>
                            
                            <div class="form-group">
                                <label for="email">E-mail</label>
                                <input type="email" id="email" name="email" placeholder="cliente@exemplo.com">
                            </div>
                            
                            <div class="form-group">
                                <label for="celular">Celular <span class="required">*</span></label>
                                <input type="tel" id="celular" name="celular" required placeholder="(00) 00000-0000" maxlength="15">
                            </div>
                            
                            <div class="form-group">
                                <label for="whatsapp">WhatsApp <span class="required">*</span></label>
                                <input type="tel" id="whatsapp" name="whatsapp" required placeholder="(00) 00000-0000" maxlength="15">
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Aba Endere√ßo -->
                <div id="endereco" class="modal-tab-content">
                    <form id="formEndereco">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="cep">CEP</label>
                                <div class="cep-input-group">
                                    <input type="text" id="cep" name="cep" placeholder="00000-000" maxlength="9">
                                    <button type="button" class="btn-cep-search" onclick="buscarCEP()" title="Buscar CEP nos Correios">
                                        üîç
                                    </button>
                                </div>
                                <small id="cep-loading" class="cep-loading">Buscando CEP...</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="rua">Rua</label>
                                <input type="text" id="rua" name="rua" placeholder="Nome da rua">
                            </div>
                            
                            <div class="form-group">
                                <label for="numero">N√∫mero</label>
                                <input type="text" id="numero" name="numero" placeholder="N√∫mero">
                            </div>
                            
                            <div class="form-group">
                                <label for="cidade">Cidade</label>
                                <input type="text" id="cidade" name="cidade" placeholder="Nome da cidade">
                            </div>
                            
                            <div class="form-group">
                                <label for="uf">UF</label>
                                <select id="uf" name="uf">
                                    <option value="">Selecione...</option>
                                    <option value="AC">AC</option>
                                    <option value="AL">AL</option>
                                    <option value="AP">AP</option>
                                    <option value="AM">AM</option>
                                    <option value="BA">BA</option>
                                    <option value="CE">CE</option>
                                    <option value="DF">DF</option>
                                    <option value="ES">ES</option>
                                    <option value="GO">GO</option>
                                    <option value="MA">MA</option>
                                    <option value="MT">MT</option>
                                    <option value="MS">MS</option>
                                    <option value="MG">MG</option>
                                    <option value="PA">PA</option>
                                    <option value="PB">PB</option>
                                    <option value="PR">PR</option>
                                    <option value="PE">PE</option>
                                    <option value="PI">PI</option>
                                    <option value="RJ">RJ</option>
                                    <option value="RN">RN</option>
                                    <option value="RS">RS</option>
                                    <option value="RO">RO</option>
                                    <option value="RR">RR</option>
                                    <option value="SC">SC</option>
                                    <option value="SP">SP</option>
                                    <option value="SE">SE</option>
                                    <option value="TO">TO</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="bairro">Bairro</label>
                                <input type="text" id="bairro" name="bairro" placeholder="Nome do bairro">
                            </div>
                            
                            <div class="form-group">
                                <label for="complemento">Complemento</label>
                                <input type="text" id="complemento" name="complemento" placeholder="Apto, casa, etc.">
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Aba Configura√ß√£o -->
                <div id="configuracao" class="modal-tab-content">
                    <form id="formConfiguracao">
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label for="tabelaPrecos">Tabela de Pre√ßos</label>
                                <select id="tabelaPrecos" name="tabelaPrecos">
                                    <option value="">Selecione...</option>
                                    <option value="padrao">Tabela Padr√£o</option>
                                    <option value="especial">Tabela Especial</option>
                                    <option value="vip">Tabela VIP</option>
                                    <option value="personalizada">Tabela Personalizada</option>
                                </select>
                            </div>
                            
                            <div class="form-group full-width">
                                <label for="descontoGeral">Desconto Geral (%)</label>
                                <input type="number" id="descontoGeral" name="descontoGeral" 
                                       min="0" max="100" step="0.1" placeholder="0.0">
                                <small>Desconto aplicado em todos os servi√ßos para este cliente</small>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="fecharModalCliente()">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarCliente()">
                    <i class="fas fa-save"></i> Salvar Cliente
                </button>
            </div>
        </div>
    </div>

</body>
</html>
